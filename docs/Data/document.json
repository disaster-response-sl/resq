{"openapi":"3.0.3","info":{"title":"Sri Lanka Flood Relief - Public Data API","description":"REST API providing real-time access to help requests and volunteer contributions.\nAuthentication is required via API Key.\n","contact":{},"version":"v1.0"},"servers":[{"url":"https://api.floodsupport.org/default/sri-lanka-flood-relief-jm/v1.0"}],"security":[{"default":[]}],"paths":{"/public-data-api":{"get":{"summary":"Fetch public flood-relief data (requests + contributions)","description":"Returns filtered help requests and/or contributions.","operationId":"getPublicData","parameters":[{"name":"type","in":"query","description":"Filter by data type.","required":false,"style":"form","explode":true,"schema":{"type":"string","default":"all","enum":["all","requests","contributions"]}},{"name":"status","in":"query","description":"Status filter.","required":false,"style":"form","explode":true,"schema":{"type":"string","default":"all","enum":["all","pending","resolved","available"]}},{"name":"urgency","in":"query","description":"Urgency filter (requests only).","required":false,"style":"form","explode":true,"schema":{"type":"string","default":"all","enum":["all","emergency","high","medium","low"]}},{"name":"establishment","in":"query","description":"Relief camp establishment type.","required":false,"style":"form","explode":true,"schema":{"type":"string","default":"all","enum":["all","School","Temple","Kitchen","Dispensary","Tent","Private Land","Other"]}},{"name":"assistance_type","in":"query","description":"Assistance type filter (Food, Medicine, Clothing, etc.)","required":false,"style":"form","explode":true,"schema":{"type":"string"}},{"name":"contribution_type","in":"query","description":"Contribution type filter.","required":false,"style":"form","explode":true,"schema":{"type":"string"}},{"name":"verified","in":"query","description":"Filter by contribution verification status.","required":false,"style":"form","explode":true,"schema":{"type":"string","default":"all","enum":["all","true","false"]}},{"name":"pickup_required","in":"query","description":"Filter contributions requiring pickup.","required":false,"style":"form","explode":true,"schema":{"type":"string","default":"all","enum":["all","true","false"]}},{"name":"search","in":"query","description":"Text search across names, addresses, notes, and item types.","required":false,"style":"form","explode":true,"schema":{"type":"string"}},{"name":"lat","in":"query","description":"Latitude for location-based filtering.","required":false,"style":"form","explode":true,"schema":{"type":"number","format":"float"}},{"name":"lng","in":"query","description":"Longitude for location-based filtering.","required":false,"style":"form","explode":true,"schema":{"type":"number","format":"float"}},{"name":"radius_km","in":"query","description":"Radius in kilometers for distance filtering.","required":false,"style":"form","explode":true,"schema":{"type":"number","format":"float"}},{"name":"sort","in":"query","description":"Sort method.","required":false,"style":"form","explode":true,"schema":{"type":"string","default":"newest","enum":["newest","oldest","urgency","distance"]}},{"name":"limit","in":"query","description":"Max results per request.","required":false,"style":"form","explode":true,"schema":{"type":"integer","default":100,"maximum":500}},{"name":"offset","in":"query","description":"Pagination offset.","required":false,"style":"form","explode":true,"schema":{"type":"integer","default":0}}],"responses":{"200":{"description":"Successful data response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PublicApiResponse"}}}},"401":{"description":"Invalid or missing API key"}},"security":[{"ApiKeyAuth":[]},{"default":[]}],"x-throttling-tier":"Unlimited","x-throttling-limit":{"requestCount":-1,"unit":"MINUTE"},"x-auth-type":"Application & Application User"}}},"components":{"schemas":{"PublicApiResponse":{"type":"object","properties":{"requests":{"type":"array","items":{"$ref":"#/components/schemas/Request"}},"contributions":{"type":"array","items":{"$ref":"#/components/schemas/Contribution"}},"meta":{"$ref":"#/components/schemas/Meta"}}},"Request":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"full_name":{"type":"string"},"mobile_number":{"type":"string"},"mobile_number_2":{"type":"string"},"email":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"establishment_type":{"type":"string"},"num_men":{"type":"integer"},"num_women":{"type":"integer"},"num_children":{"type":"integer"},"urgency":{"type":"string","enum":["emergency","high","medium","low"]},"status":{"type":"string","enum":["pending","resolved"]},"assistance_types":{"type":"array","items":{"type":"string"}},"additional_notes":{"type":"string"},"image_urls":{"type":"array","items":{"type":"string"}},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"resolved_at":{"type":"string","format":"date-time"},"resolved_by_name":{"type":"string"},"resolved_by_user_id":{"type":"string"},"distance_km":{"type":"number"}}},"Contribution":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"full_name":{"type":"string"},"mobile_number":{"type":"string"},"mobile_number_2":{"type":"string"},"email":{"type":"string"},"address":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"contribution_types":{"type":"array","items":{"type":"string"}},"goods_types":{"type":"array","items":{"type":"string"}},"services_types":{"type":"array","items":{"type":"string"}},"labor_types":{"type":"array","items":{"type":"string"}},"coverage_radius_km":{"type":"number"},"status":{"type":"string","enum":["available","engaged","unavailable"]},"verified":{"type":"boolean"},"verified_by_name":{"type":"string"},"verified_by_user_id":{"type":"string"},"verified_at":{"type":"string","format":"date-time"},"pickup_required":{"type":"boolean"},"availability_notes":{"type":"string"},"additional_notes":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"distance_km":{"type":"number"}}},"Meta":{"type":"object","properties":{"total_requests":{"type":"integer"},"total_contributions":{"type":"integer"},"filters_applied":{"type":"object"},"pagination":{"type":"object","properties":{"limit":{"type":"integer"},"offset":{"type":"integer"},"returned_requests":{"type":"integer"},"returned_contributions":{"type":"integer"}}}}}},"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","name":"api-key","in":"header"},"default":{"type":"oauth2","flows":{"implicit":{"authorizationUrl":"https:///authorize","scopes":{}}}}}},"x-wso2-disable-security":"false"}